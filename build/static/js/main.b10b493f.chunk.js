(this["webpackJsonpfirebase-auth"]=this["webpackJsonpfirebase-auth"]||[]).push([[0],{113:function(e,t,a){},123:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(16),i=a.n(r),o=(a(78),a(68)),l=a(18),s=a(10),u=a(29),d=a.n(u),j=a(45),b=a(39),p=a(85),O=a.n(p),f=b.a.initializeApp({apiKey:"AIzaSyAlwKsg4-W1ygjff9nad7ea4P_P9Kl1-Qo",authDomain:"nayef-432fd.firebaseapp.com",databaseURL:"https://nayef-432fd-default-rtdb.firebaseio.com",projectId:"nayef-432fd",storageBucket:"nayef-432fd.appspot.com",messagingSenderId:"203699411680",appId:"1:203699411680:web:a1bde85a790022b00f0e85",measurementId:"G-Z6NBNPWQ5Q"}),h=f.auth(),m=f.firestore(),x=(new b.a.auth.GoogleAuthProvider,function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.signInWithEmailAndPassword(t,a);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0),O.a.fire({title:e.t0,icon:"",confirmButtonText:"ok"});case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,a){return e.apply(this,arguments)}}()),g=function(){h.signOut()},v=a(58),y=(a(113),a.p,a(189)),C=a(165),S=a(4);var k=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(s.a)(r,2),o=i[0],u=i[1],d=Object(v.a)(h),j=Object(s.a)(d,3),b=j[0],p=j[1],O=(j[2],Object(l.f)());return Object(n.useEffect)((function(){p||b&&O.replace("/dashboard")}),[b,p]),Object(S.jsx)("div",{className:"login login-div",children:Object(S.jsxs)("div",{className:"login__container",children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("h1",{style:{fontSize:50,color:"white",backgroundColor:"#783F04",borderRadius:20,width:"100%",padding:"5px 5px"},children:[" ","Cafe Gamal"," "]}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{style:{fontSize:13,color:"white",backgroundColor:"#783F04",borderRadius:20,padding:"10px 10px"},children:"Developed By Omar Abdallah"})]}),Object(S.jsx)("br",{}),Object(S.jsx)(y.a,{variant:"outlined",autoComplete:"off",size:"small",type:"text",value:a,onChange:function(e){return c(e.target.value)},label:"E-mail Address"}),Object(S.jsx)(y.a,{autoComplete:"off",size:"small",variant:"outlined",type:"password",value:o,onChange:function(e){return u(e.target.value)},label:"Password"}),Object(S.jsx)(C.a,{size:"small",className:"login__btn",onClick:function(){return x(a,o)},style:{marginTop:10,fontSize:30,color:"white",backgroundColor:"#783F04",borderRadius:20,cursor:"pointer"},children:"Login"})]})})},w=(a(123),a(87)),I=a.n(w),F=a(177),_=a(192),z=a(167),W=a(174),T=a(180),A=a(181),E=a(169),B=a(173),N=a(172),P=a(168),L=a(170),R=a(171),D=a(179),q=a(166),V=a(129),G=a(191),K=a(175),Q=a(176),U=a(178),H=a(182);var J=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)("0"),j=Object(s.a)(d,2),p=j[0],O=j[1],f=Object(n.useState)(""),h=Object(s.a)(f,2),x=h[0],g=h[1],v=Object(n.useState)(!0),k=Object(s.a)(v,2),w=k[0],J=k[1],M=Object(n.useState)("+"),Z=Object(s.a)(M,2),X=Z[0],Y=Z[1],$=Object(n.useState)([]),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),ce=Object(s.a)(ne,2),re=ce[0],ie=ce[1],oe=Object(n.useState)(""),le=Object(s.a)(oe,2),se=le[0],ue=le[1],de=Object(n.useState)(""),je=Object(s.a)(de,2),be=je[0],pe=je[1],Oe=Object(n.useState)(!1),fe=Object(s.a)(Oe,2),he=fe[0],me=fe[1],xe=Object(n.useState)(!1),ge=Object(s.a)(xe,2),ve=ge[0],ye=ge[1],Ce=Object(n.useState)(""),Se=Object(s.a)(Ce,2),ke=Se[0],we=Se[1],Ie=Object(n.useState)(""),Fe=Object(s.a)(Ie,2),_e=Fe[0],ze=Fe[1],We=function(e,t){"plus"==t&&ue(parseInt(se)+parseInt(e)),"minus"==t&&ue(parseInt(se)-parseInt(e))},Te=new Intl.NumberFormat("AR-AR",{style:"currency",currency:"LBP"});Object(n.useEffect)((function(){console.log("useEffect Hook!!!"),m.collection("persons").orderBy("name","asc").onSnapshot((function(e){console.log("Firebase Snap!"),r(e.docs.map((function(e){return{id:e.id,name:e.data().name,datatime:e.data().datatime,balance:parseInt(e.data().balance),phone:e.data().phone}})))})),m.collection("products").orderBy("product_name","asc").onSnapshot((function(e){console.log("Firebase Snap!"),ae(e.docs.map((function(e){return{id:e.id,product_name:e.data().product_name,datatime:e.data().datatime,price:e.data().price,phone:e.data().phone,avatar:e.data().avatar}})))}))}),[]);var Ae=function(){me(!1)},Ee=function(){ye(!1)};return Object(S.jsxs)(q.a,{children:[Object(S.jsxs)("center",{children:[" ",Object(S.jsx)(C.a,{variant:"contained",onClick:function(){w?(J(!1),Y("-")):(J(!0),Y("+"))},style:{background:[w?"green":"red"],color:"white",fontSize:10},children:X}),Object(S.jsx)(y.a,{variant:"outlined",size:"small",id:"standard-basic",label:"Search Client",onChange:function(e){pe(e.target.value)}})]}),Object(S.jsxs)("center",{style:{display:[w?"none":"block"]},children:[Object(S.jsxs)("form",{noValidate:!0,children:[Object(S.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"todo",label:"Full name",name:"todo",autoComplete:"off",value:l,onChange:function(e){return u(e.target.value)}}),Object(S.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,type:"number",fullWidth:!0,id:"balance",label:"balance",name:"balance",autoComplete:"off",value:p,onChange:function(e){return O(e.target.value)}}),Object(S.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,type:"number",fullWidth:!0,id:"balance",label:"phone",name:"phone",autoComplete:"off",value:x,onChange:function(e){return g(e.target.value)}}),Object(S.jsx)(C.a,{type:"submit",variant:"contained",style:{background:"green",color:"white"},fullWidth:!0,onClick:function(e){e.preventDefault(),m.collection("persons").add({name:l,datetime:b.a.firestore.FieldValue.serverTimestamp(),balance:parseInt(p),phone:x}),u(""),O(""),g("")},disabled:!l||!p||!x,startIcon:Object(S.jsx)(z.a,{}),children:"Save"}),Object(S.jsx)("br",{})]}),Object(S.jsx)("br",{})]}),Object(S.jsx)(P.a,{style:{marginTop:5},className:"table1",component:V.a,children:Object(S.jsxs)(E.a,{"aria-label":"simple table",children:[Object(S.jsx)(L.a,{children:Object(S.jsxs)(R.a,{style:{background:"#783F04",color:"white",textAlign:"left"},children:[Object(S.jsx)(N.a,{align:"center",color:"primary",children:Object(S.jsx)("span",{style:{color:"white"},children:"fullname"})}),Object(S.jsx)(N.a,{align:"center",children:Object(S.jsx)("span",{style:{color:"white"},children:"balance"})}),Object(S.jsx)(N.a,{align:"center",children:Object(S.jsx)("span",{style:{color:"white"},children:"action"})})]})}),Object(S.jsx)(B.a,{children:c.filter((function(e){return""===be||e.name.toLowerCase().includes(be.toLowerCase())?e:void 0})).map((function(e){return Object(S.jsxs)(R.a,{children:[Object(S.jsx)(N.a,{align:"center",children:Object(S.jsxs)("h3",{children:[" ",e.name]})}),Object(S.jsx)(N.a,{align:"center",children:e.balance}),Object(S.jsxs)(N.a,{align:"center",children:[Object(S.jsx)(z.a,{cursor:"pointer",onClick:function(){return t=e,me(!0),ze(t.id),we(t.name),ue(t.balance),void ie(t.phone);var t}}),Object(S.jsx)(W.a,{cursor:"pointer",onClick:function(){return t=e,ye(!0),ze(t.id),we(t.name),ue(t.balance),void ie(t.phone);var t}})]})]},e.id)}))})]})}),Object(S.jsxs)(G.a,{style:{backgroundImage:"linear-gradient( #e52e71,#ff8a00)"},fullScreen:!0,open:he,onClose:Ae,children:[Object(S.jsx)(K.a,{style:{backgroundColor:"black"},children:Object(S.jsx)("div",{className:"containergrid",children:te.map((function(e){return Object(S.jsxs)(Q.a,{sx:{maxWidth:345},style:{backgroundImage:"linear-gradient( #e52e71,#ff8a00)",margin:"5px"},children:[Object(S.jsx)(F.a,{avatar:Object(S.jsx)(_.a,{style:{height:100,width:100,borderRadius:0},src:e.avatar,sx:{bgcolor:"red"},"aria-label":"recipe",children:"C"}),action:Object(S.jsx)(U.a,{"aria-label":"settings"}),title:Object(S.jsx)("h1",{children:e.product_name}),subheader:Object(S.jsx)("h1",{children:e.price})}),Object(S.jsx)(D.a,{}),Object(S.jsxs)("div",{style:{textAlign:"center"},children:[Object(S.jsx)(C.a,{name:"minus",onClick:function(t){return We(e.price,t.currentTarget.name)},size:"small",variant:"outlined",children:Object(S.jsx)(T.a,{})}),"\xa0",Object(S.jsx)(C.a,{name:"plus",onClick:function(t){return We(e.price,t.currentTarget.name)},size:"small",variant:"outlined",children:Object(S.jsx)(A.a,{})})]}),Object(S.jsx)("br",{})]})}))})}),Object(S.jsxs)(H.a,{children:[Object(S.jsx)("a",{href:"https://api.whatsapp.com/send?phone=+961".concat(re),target:"_blank",children:Object(S.jsx)(I.a,{style:{color:"green"}})}),Object(S.jsx)(y.a,{margin:"normal",label:"full name",type:"text",autoComplete:"off",variant:"outlined",name:"updateTodo",value:ke,size:"small",onChange:function(e){return we(e.target.value)}}),Object(S.jsx)(y.a,{style:{outlineColor:"green"},margin:"normal",label:"balance",type:"number",variant:"outlined",name:"updateTodo",autoComplete:"off",size:"small",value:se,onChange:function(e){return ue(e.target.value)}}),Object(S.jsx)(C.a,{onClick:Ae,variant:"contained",style:{background:"red",color:"white"},children:"Cancel"}),Object(S.jsx)(C.a,{disabled:!ke,onClick:function(){if(se<0)return alert("please instert valid");m.collection("persons").doc(_e).update({name:ke,balance:se}),me(!1)},variant:"contained",style:{background:"green",color:"white"},children:"Save"})]})]}),Object(S.jsxs)(G.a,{fullScreen:!0,open:ve,onClose:Ee,children:[Object(S.jsx)("center",{children:Object(S.jsx)("h3",{children:"Edit Client Info"})}),Object(S.jsxs)(K.a,{children:[Object(S.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"name",autoComplete:"off",value:ke,type:"email",fullWidth:!0,label:"Full name",variant:"outlined",onChange:function(e){return we(e.target.value)}}),Object(S.jsx)(y.a,{margin:"dense",id:"name",type:"number",label:"phone number",fullWidth:!0,value:re,autoComplete:"off",variant:"outlined",onChange:function(e){return ie(e.target.value)}})]}),Object(S.jsxs)(H.a,{children:[Object(S.jsx)(C.a,{variant:"contained",onClick:Ee,children:"Cancel"}),Object(S.jsx)(C.a,{color:"primary",onClick:function(){if(se<0)return alert("please instert valid");m.collection("persons").doc(_e).update({name:ke,phone:re}),ye(!1)},variant:"contained",children:"Update"})]})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("h3",{children:["\xa0",Te.format(c.reduce((function(e,t){return e+t.balance}),0))]})]})},M=a(164),Z=a(183),X=a(184),Y=a(185);var $=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],p=Object(n.useState)("0"),O=Object(s.a)(p,2),f=O[0],h=O[1],x=Object(n.useState)(!0),g=Object(s.a)(x,2),v=g[0],k=g[1],w=Object(n.useState)("+"),I=Object(s.a)(w,2),F=I[0],_=I[1],A=c.a.useState(null),E=Object(s.a)(A,2),B=E[0],N=E[1],P=Object(n.useState)(""),L=Object(s.a)(P,2),R=L[0],D=L[1],V=Object(n.useState)(!1),Q=Object(s.a)(V,2),J=Q[0],$=Q[1],ee=Object(n.useState)(""),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(""),re=Object(s.a)(ce,2),ie=re[0],oe=re[1],le=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files[0]){e.next=4;break}return e.abrupt("return",console.log("please select image"));case 4:return n=b.a.storage().ref(),c=n.child(a.name),e.next=8,c.put(a);case 8:return e.t0=N,e.next=11,c.getDownloadURL();case 11:e.t1=e.sent,(0,e.t0)(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("useEffect Hook!!!"),m.collection("products").orderBy("price","desc").onSnapshot((function(e){console.log("Firebase Snap!"),r(e.docs.map((function(e){return{id:e.id,product_name:e.data().product_name,datatime:e.data().datatime,price:e.data().price,phone:e.data().phone}})))}))}),[]);var se=function(){$(!1)};return Object(S.jsxs)(q.a,{children:[Object(S.jsx)(C.a,{variant:"contained",onClick:function(){v?(k(!1),_("-")):(k(!0),_("+"))},style:{background:[v?"green":"red"],color:"white",fontSize:10},children:F}),Object(S.jsx)("center",{style:{display:[v?"none":"block"]},children:Object(S.jsxs)("form",{noValidate:!0,children:[Object(S.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"todo",label:"product name",name:"todo",autoComplete:"off",value:l,onChange:function(e){return u(e.target.value)}}),Object(S.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,type:"number",fullWidth:!0,id:"price",label:"price",name:"price",autoComplete:"off",value:f,onChange:function(e){return h(e.target.value)}}),Object(S.jsx)("input",{accept:"image/webp",id:"image",type:"file",hidden:!0,onChange:le}),Object(S.jsx)(C.a,{variant:"outlined",color:"primary",children:Object(S.jsx)("label",{htmlFor:"image",children:"product image"})}),Object(S.jsx)(C.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){e.preventDefault(),B&&(m.collection("products").add({product_name:l,datetime:b.a.firestore.FieldValue.serverTimestamp(),price:f,avatar:B}),u(""),h(""),N(null))},disabled:!l||!f||!B,startIcon:Object(S.jsx)(z.a,{}),children:"Save"})]})}),Object(S.jsx)(M.a,{dense:!0,children:a.map((function(e){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(X.a,{primary:e.product_name,secondary:e.datetime}),Object(S.jsx)(X.a,{primary:e.price,secondary:e.datetime}),Object(S.jsxs)(Y.a,{children:[Object(S.jsx)(U.a,{edge:"end","aria-label":"Edit",onClick:function(){return function(e){$(!0),oe(e.id),ne(e.product_name),D(e.price)}(e)},children:Object(S.jsx)(W.a,{})}),Object(S.jsx)(U.a,{edge:"end","aria-label":"delete",onClick:function(){return t=e.id,void m.collection("products").doc(t).delete().then((function(e){console.log("Deleted!",e)}));var t},children:Object(S.jsx)(T.a,{})})]})]},e.id)}))}),Object(S.jsxs)(G.a,{fullScreen:!0,open:J,onClose:se,children:[Object(S.jsxs)(K.a,{children:[Object(S.jsx)(y.a,{variant:"outlined",margin:"normal",label:"product name",type:"text",fullWidth:!0,name:"updateTodo",value:ae,autoComplete:"off",onChange:function(e){return ne(e.target.value)}}),Object(S.jsx)(y.a,{variant:"outlined",margin:"normal",label:"price",type:"number",autoComplete:"off",fullWidth:!0,name:"updateTodo",value:R,onChange:function(e){return D(e.target.value)}})]}),Object(S.jsxs)(H.a,{children:[Object(S.jsx)(C.a,{onClick:se,variant:"contained",style:{background:"red",color:"white"},children:"Cancel"}),Object(S.jsx)(C.a,{disabled:!R||!ae,onClick:function(){m.collection("products").doc(ie).update({product_name:ae,price:R}),$(!1)},variant:"contained",style:{background:"green",color:"white"},children:"Save"})]})]})]})},ee=a(186),te=a(187),ae=a(188);var ne=function(){var e=Object(v.a)(h),t=Object(s.a)(e,3),a=t[0],c=t[1],r=(t[2],Object(n.useState)("")),i=Object(s.a)(r,2),o=(i[0],i[1]),u=Object(l.f)(),b=Object(n.useState)(!0),p=Object(s.a)(b,2),O=p[0],f=p[1],x=Object(n.useState)("Person"),y=Object(s.a)(x,2),k=(y[0],y[1]),w=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("users").where("uid","==",null===a||void 0===a?void 0:a.uid).get();case 3:return t=e.sent,e.next=6,t.docs[0].data();case 6:n=e.sent,o(n.name),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),alert("\u0646\u0627\u0643\u062f \u0645\u0646 \u0627\u062a\u0635\u0627\u0644\u0643 \u0628\u0627\u0644\u0627\u0646\u062a\u0631\u0646\u062a");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(!c)return a?void w():u.replace("/")}),[a,c]),Object(S.jsxs)("div",{className:"home-content",children:[Object(S.jsx)("br",{}),"\xa0",Object(S.jsx)(C.a,{variant:"contained",style:{background:"red",color:"white"},onClick:g,children:Object(S.jsx)(ee.a,{})}),"\xa0",Object(S.jsx)(C.a,{onClick:function(){O?(f(!1),k("products")):(f(!0),k("person"))},variant:"contained",children:O?Object(S.jsx)(te.a,{}):Object(S.jsx)(ae.a,{})}),Object(S.jsx)("center",{children:Object(S.jsx)("br",{})}),Object(S.jsx)("div",{children:O?Object(S.jsx)(J,{}):Object(S.jsx)($,{})})]})};var ce=function(){return Object(S.jsx)("div",{className:"app",children:Object(S.jsx)(o.a,{children:Object(S.jsxs)(l.c,{children:[Object(S.jsx)(l.a,{exact:!0,path:"/",component:k}),Object(S.jsx)(l.a,{exact:!0,path:"/dashboard",component:ne})]})})})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,194)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(ce,{})}),document.getElementById("root")),re()},78:function(e,t,a){}},[[127,1,2]]]);
//# sourceMappingURL=main.b10b493f.chunk.js.map